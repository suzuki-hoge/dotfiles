" vim:set ft=vim:

python <<EOM

class Directory(Entry):

	def __init__(self, root, fullpath):
		Entry.__init__(self, root, fullpath)
		self.entries = self.getEntries()

	def getEntries(self):
		entries = []
		for entryName in os.listdir(self.fullpath):
			subpath = os.path.join(self.fullpath, entryName)
			if os.path.isfile(subpath):
				entries.append(File(self.root, subpath))

			if os.path.isdir(subpath):
				entries.append(Directory(self.root, subpath))

		return entries

	def getOutputs(self, outputs):
		outputs.append(self.output)
		[e.getOutputs(outputs) for e in self.entries]
		return outputs

	def dump(self):
		print self.output
		[e.dump() for e in self.entries]

EOM
