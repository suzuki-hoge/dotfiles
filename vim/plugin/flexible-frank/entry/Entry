" vim:set ft=vim:

source $frank/Entry/fundamental/Path

python <<EOM

from abc import ABCMeta, abstractmethod

class Entry:

	__metaclass__ = ABCMeta
	Num = 1

	@staticmethod
	def initNum():
		Entry.Num = 1

	@staticmethod
	def nextNum():
		Entry.Num = Entry.Num + 1

	def __init__(self, root, path):
		self.num = Entry.Num
		Entry.nextNum()

		print root.value
		print path.value
		print ' '

		self.path = path
		tmppath = path.value[len(root.value):]

		self.name = os.path.split(tmppath)[1]
		self.depth = tmppath.count('/')

		self.pointed = False

	def _isPointed(self):
		return self.pointed

	def _isFolded(self):
		return True

	def _getPointMark(self):
		return '*' if self._isPointed() else ''

	def _getIndent(self):
		return ' ' * self.depth

	def _getEndSlash(self):
		return '/' if self.path.isDir() else ''

	def createOutput(self):
		return '%s%s%s%s' % (self._getPointMark(), self._getIndent(), self.name, self._getEndSlash())

	@abstractmethod
	def getOutputs(self, result):
		pass

	@abstractmethod
	def pointSwitch(self, num):
		pass

EOM
