" vim:set ft=vim:

python <<EOM

from abc import ABCMeta, abstractmethod

class Entry:

	__metaclass__ = ABCMeta

	def __init__(self, root, fullpath):
		self.root = root
		self.fullpath = fullpath
		self.path = fullpath[len(root):]
		self.name = os.path.split(self.path)[1]
		self.depth = self.path.count('/')
		self.output = self.createOutput()

	def _isDir(self):
		return os.path.isdir(self.fullpath)

	def _isFile(self):
		return os.path.isfile(self.fullpath)

	def _isPointed(self):
		return False

	def _isFolded(self):
		return True

	def _getIndent(self):
		return ' ' * self.depth

	def _getEndSlash(self):
		return '/' if self._isDir() else ''

	def createOutput(self):
		return '%s%s%s' % (self._getIndent(), self.name, self._getEndSlash())

	@abstractmethod
	def getOutputs(self, buffer):
		pass

	@abstractmethod
	def dump(self):
		pass

EOM
