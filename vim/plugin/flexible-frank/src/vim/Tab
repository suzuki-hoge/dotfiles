" vim:set ft=vim:

python <<EOM

import vim

class Tab:
	
	BUF_NUM_1 = 0
	BUF_NUM_2 = 0
	BUF_NUM_3 = 0

	@staticmethod
	def isBlankTab():
		return len(vim.current.buffer) == 1 and vim.current.buffer[0] == ''

	@staticmethod
	def switchTab(target):
		for i in range(4):
			current = vim.current.buffer.name
			if current != target:
				vim.command('execute ":normal gw"')
			else:
				return

	@staticmethod
	def expandTab(buf1, buf2, buf3):
		if Tab.isBlankTab():
			vim.command('edit ' + buf2)
		else:
			vim.command('tabedit ' + buf2)
			Tab.BUF_NUM_2 = vim.current.buffer.number

		vim.command('vsplit ' + buf1)
		Tab.BUF_NUM_1 = vim.current.buffer.number

		vim.command('botright 9 split ' + buf3)
		Tab.BUF_NUM_3 = vim.current.buffer.number

	@staticmethod
	def closeAll():
		vim.command('bdelete! %s' % Tab.BUF_NUM_1)
		vim.command('bdelete! %s' % Tab.BUF_NUM_2)
		vim.command('bdelete! %s' % Tab.BUF_NUM_3)

EOM
