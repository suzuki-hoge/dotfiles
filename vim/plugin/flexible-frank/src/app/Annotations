" vim:set ft=vim:
python <<EOM

def findOneByCursor(func):
	def _findOneByCursor():
		global e
		e = frank.findOneByCursor()
		func()
	return _findOneByCursor

def output(func):
	def _output():
		func()
		frank.output()
	return _output

def reNumbering(func):
	def _reNumbering():
		func()
		frank.reNumbering()
	return _reNumbering

def forbiddenTarget(*targets):
	def _wrapper(func):
		def __wrapper():
			e = frank.findOneByCursor()
			try:
				[checker(e) for checker in targets]

			except Exception, exp:
				print exp

			else:
				func()

		return __wrapper
	return _wrapper

#def forbiddenMode(*modes):
#	e = 'normal'

#	def _wrapper(func):
#		def __wrapper():
#			try:
#				[checker(e, func) for checker in modes]

#			except Exception, exp:
#				print exp

#			else:
#				func()
#		return __wrapper
#	return _wrapper

EOM
